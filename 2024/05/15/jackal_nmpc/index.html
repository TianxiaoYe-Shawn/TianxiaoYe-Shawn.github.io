<!DOCTYPE html>
<html lang="en,zh-cn,default">
<head>
  <meta charset="UTF-8">




<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

  <meta name="author" content="叶天霄 Tianxiao Ye">


  <meta name="subtitle" content="叶天霄">


  <meta name="description" content="威斯康辛大学麦迪逊分校ARClab研究生一年级学生。出生在中国合肥，目前在美国求学。梦想是制造出保姆机器人

A first-year graduate student at the ARClab, University of Wisconsin-Madison. Born in Hefei, China, and currently studying in the USA. My dream is to create a robot capable of doing household chores.
">


  <meta name="keywords" content="Tianxiao Ye,叶天霄,Robotics,Artificial Intelligence">


<title>Trajectory Tracking of Unmanned Ground Vehicles Based on Nonlinear Model Predictive Control | Tianxiao Ye</title>



<link rel="icon" href="/robot.ico">


<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css"
/>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">


<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/css/search.css">



<script src="/lib/jquery.min.js"></script>


<script src="/lib/iconify-icon.min.js"></script>


<script src="https://cdn.tailwindcss.com?plugins=typography"></script>
<script>
  tailwind.config = {
    darkMode: "class",
  };
</script>

<script>
  (function () {
    const prefersDark =
      window.matchMedia &&
      window.matchMedia("(prefers-color-scheme: dark)").matches;
    const setting = localStorage.getItem("hexo-color-scheme") || "auto";
    if (setting === "dark" || (prefersDark && setting !== "light"))
      document.documentElement.classList.toggle("dark", true);
    let isDark = document.documentElement.classList.contains("dark");
  })();

  $(document).ready(function () {
    // init icon
    const prefersDark =
      window.matchMedia &&
      window.matchMedia("(prefers-color-scheme: dark)").matches;
    const isDark = document.documentElement.classList.contains("dark");
    $("#theme-icon").attr("icon", isDark ? "ic:round-dark-mode" : "ic:round-light-mode");

    function toggleGiscusTheme() {
      const isDark = document.documentElement.classList.contains("dark");
      const giscusFrame = document.querySelector("iframe.giscus-frame");
      if (giscusFrame) {
        giscusFrame.contentWindow.postMessage(
          {
            giscus: {
              setConfig: {
                theme: isDark ? "dark" : "light",
              },
            },
          },
          "https://giscus.app"
        );
      }
    }


    // toggle dark mode
    function toggleDark() {
      let isDark = document.documentElement.classList.contains("dark");
      const setting = localStorage.getItem("hexo-color-scheme") || "auto";
      isDark = !isDark;
      document.documentElement.classList.toggle("dark", isDark);
      $("#theme-icon").attr("icon", isDark ? "ic:round-dark-mode" : "ic:round-light-mode");
      if (prefersDark === isDark) {
        localStorage.setItem("hexo-color-scheme", "auto");
      } else {
        localStorage.setItem("hexo-color-scheme", isDark ? "dark" : "light");
      }
      toggleGiscusTheme();
    }
    $("#toggle-dark").click(toggleDark);

    // listen dark mode change
    window
      .matchMedia("(prefers-color-scheme: dark)")
      .addEventListener("change", (e) => {
        const setting = localStorage.getItem("hexo-color-scheme") || "auto";
        if (setting === "auto") {
          document.documentElement.classList.toggle("dark", e.matches);
          $("#theme-icon").attr(
            "icon",
            e.matches ? "ic:round-dark-mode" : "ic:round-light-mode"
          );
          toggleGiscusTheme();
        }
      });
  });
</script>




<meta name="generator" content="Hexo 7.2.0"></head>
<body 
  class="
    bg-[var(--c-0)]
    text-[var(--c-80)]
  ">
  <!-- The navigation bar -->
<header class="
    flex flex-row items-center
    w-full
    pr-4
    z-10
    border-b-[1px]
    border-b-[var(--c-border)]
    dark:bg-[var(--c-0)]
    dark:border-b-[var(--c-0)]
    gap-2
    h-[var(--h-header)]
    text-[var(--c-80)]
">
  <!-- Left part -->
  <div class="overflow-hidden h-full flex flex-row items-center">
    <!-- Site Title on the top left -->
    <a href="/" class="
            whitespace-nowrap
            text-2xl
            text-[var(--c-theme)]
            hover:text-[var(--c-theme)]
            pl-4
            font-black
            bg-gradient-to-r from-cyan-500
            to-blue-500 bg-clip-text text-transparent
          ">
      Tianxiao Ye
    </a>
  </div>
  <!-- Div for pushing items to both sides -->
  <div class="flex-1"></div>
  <!-- Right part -->
  <div class="flex flex-row items-center z-20 h-full">
    <!-- Page links -->
    <div class="hidden sm:flex flex-row h-full">
      
      
      
      
      
      
      <a href="/./archives" class="
                        flex flex-row items-center
                        gap-1
                        hover:underline
                        hover:bg-[var(--c-20)]
                        hover:text-[var(--c-theme)]
                        transition-all
                        px-2
                        py-1
                        my-1
                        rounded-lg
                        group
                    ">
        
        <iconify-icon class="group-hover:scale-125 transition-transform" icon="mingcute:science-line" width="22">
        </iconify-icon>
        
        
        <p>Projects</p>
        
      </a>
      
      
      
      
      
      
      <a href="/./publications" class="
                        flex flex-row items-center
                        gap-1
                        hover:underline
                        hover:bg-[var(--c-20)]
                        hover:text-[var(--c-theme)]
                        transition-all
                        px-2
                        py-1
                        my-1
                        rounded-lg
                        group
                    ">
        
        <iconify-icon class="group-hover:scale-125 transition-transform" icon="mingcute:paper-line" width="22">
        </iconify-icon>
        
        
        <p>Publications</p>
        
      </a>
      
      
      
      
      
      
      <a href="/./about" class="
                        flex flex-row items-center
                        gap-1
                        hover:underline
                        hover:bg-[var(--c-20)]
                        hover:text-[var(--c-theme)]
                        transition-all
                        px-2
                        py-1
                        my-1
                        rounded-lg
                        group
                    ">
        
        <iconify-icon class="group-hover:scale-125 transition-transform" icon="mingcute:user-4-line" width="22">
        </iconify-icon>
        
        
        <p>About</p>
        
      </a>
      
      
      
      
      
      
      <a href="/./categories" class="
                        flex flex-row items-center
                        gap-1
                        hover:underline
                        hover:bg-[var(--c-20)]
                        hover:text-[var(--c-theme)]
                        transition-all
                        px-2
                        py-1
                        my-1
                        rounded-lg
                        group
                    ">
        
        <iconify-icon class="group-hover:scale-125 transition-transform" icon="mingcute:classify-2-line" width="22">
        </iconify-icon>
        
        
        <p>Categories</p>
        
      </a>
      
      
      
      
      
      
      <a href="/./tags" class="
                        flex flex-row items-center
                        gap-1
                        hover:underline
                        hover:bg-[var(--c-20)]
                        hover:text-[var(--c-theme)]
                        transition-all
                        px-2
                        py-1
                        my-1
                        rounded-lg
                        group
                    ">
        
        <iconify-icon class="group-hover:scale-125 transition-transform" icon="mingcute:tag-2-line" width="22">
        </iconify-icon>
        
        
        <p>Tags</p>
        
      </a>
      
      
      
      
      
      
      <a href="/./index" class="
                        flex flex-row items-center
                        gap-1
                        hover:underline
                        hover:bg-[var(--c-20)]
                        hover:text-[var(--c-theme)]
                        transition-all
                        px-2
                        py-1
                        my-1
                        rounded-lg
                        group
                    ">
        
        <iconify-icon class="group-hover:scale-125 transition-transform" icon="mingcute:home-3-line" width="22">
        </iconify-icon>
        
        
      </a>
      
    </div>
    <!-- Icons on the right -->
    <div class="flex flex-row items-center">

      <!-- TODO: Add search icon here -->

      <!-- Dark/light toggle icon -->
      <a class="flex group p-1" title="toggle theme" id="toggle-dark">
        <iconify-icon class="transition-transform
                    group-hover:rotate-[45deg]
                    group-hover:scale-125
                    group-hover:text-[var(--c-theme)]" width="24" id="theme-icon">
        </iconify-icon>
      </a>
      <!-- Icon for dropout menu on small screens -->
      <div class="flex p-1 mx-1 sm:hidden">
        <a class="w-5 h-5" aria-hidden="true" id="open-menu">
          <iconify-icon width="24" icon="mingcute:menu-fill" class="transition-transform hover:scale-125 hover:rotate-[5deg]">
          </iconify-icon>
        </a>
        <a class="w-5 h-5 hidden" aria-hidden="true" id="close-menu">
          <iconify-icon width="24" icon="mingcute:close-circle-fill" class="transition-transform hover:scale-125 hover:rotate-[80deg]">
          </iconify-icon>
        </a>
      </div>
    </div>
  </div>
</header>

<!-- Dropdown menu on small screens -->
<div id="menu-panel" class="
        h-0
        overflow-hidden
        sm:hidden
        w-full
        z-10
        rounded
    ">
  <div id="menu-content" class="
        flex
        flex-row
        justify-center
        items-center
        font-bold
        text-xl
        border-b-[1px]
        relative
        z-20
        border-[var(--c-sep)]
        px-2
        py-2
        -translate-y-full
        transition-transform
        duration-200
        ">
    
    
    
    <a href="/./archives" class="
                flex flex-row items-center
                gap-2
                h-12
                hover:underline
                hover:bg-[var(--c-20)]
                px-3
                py-1
                rounded-lg
            ">
      <iconify-icon icon="mingcute:science-line" width="22">
      </iconify-icon>
      <p>
        posts
      </p>
    </a>
    
    
    
    
    <a href="/./publications" class="
                flex flex-row items-center
                gap-2
                h-12
                hover:underline
                hover:bg-[var(--c-20)]
                px-3
                py-1
                rounded-lg
            ">
      <iconify-icon icon="mingcute:paper-line" width="22">
      </iconify-icon>
      <p>
        publications
      </p>
    </a>
    
    
    
    
    <a href="/./about" class="
                flex flex-row items-center
                gap-2
                h-12
                hover:underline
                hover:bg-[var(--c-20)]
                px-3
                py-1
                rounded-lg
            ">
      <iconify-icon icon="mingcute:user-4-line" width="22">
      </iconify-icon>
      <p>
        about
      </p>
    </a>
    
    
    
    
    <a href="/./categories" class="
                flex flex-row items-center
                gap-2
                h-12
                hover:underline
                hover:bg-[var(--c-20)]
                px-3
                py-1
                rounded-lg
            ">
      <iconify-icon icon="mingcute:classify-2-line" width="22">
      </iconify-icon>
      <p>
        categories
      </p>
    </a>
    
    
    
    
    <a href="/./tags" class="
                flex flex-row items-center
                gap-2
                h-12
                hover:underline
                hover:bg-[var(--c-20)]
                px-3
                py-1
                rounded-lg
            ">
      <iconify-icon icon="mingcute:tag-2-line" width="22">
      </iconify-icon>
      <p>
        tags
      </p>
    </a>
    
    
    
    
    <a href="/./index" class="
                flex flex-row items-center
                gap-2
                h-12
                hover:underline
                hover:bg-[var(--c-20)]
                px-3
                py-1
                rounded-lg
            ">
      <iconify-icon icon="mingcute:home-3-line" width="22">
      </iconify-icon>
      <p>
        home
      </p>
    </a>
    
    
  </div>
</div>
  <main>
    <!-- css -->

<link rel="stylesheet" href="/lib/fancybox/fancybox.min.css">

  
<link rel="stylesheet" href="/lib/tocbot/tocbot.min.css">

    <!-- toc -->
    
  <!-- tocbot -->
<nav class="post-toc toc text-sm w-40 relative top-32 right-4 opacity-70 hidden lg:block" style="position: fixed !important;"></nav>


<section class="px-6 max-w-prose mx-auto md:px-0">
  <!-- Post header before content -->
  <header class="py-4">
    <div class="flex flex-col gap-2 pt-4 md:pt-6">
      <!-- Title -->
      <div id="article-title" class="leading-snug">
        <p class="text-3xl font-bold text-[var(--c-100)] mb-4">Trajectory Tracking of Unmanned Ground Vehicles Based on Nonlinear Model Predictive Control</p>
      </div>
      <!-- Meta data -->
      <div>
        <section class="
          flex flex-col gap-x-2 gap-y-1 text-sm text-[var(--c-100)]">
          <div class="flex flex-wrap items-center gap-x-2 gap-y-1">
            <!-- Dates -->
            <div class="flex items-center gap-1">
              <iconify-icon width="18" icon="mingcute:add-circle-fill" ></iconify-icon>
              Created: <time class="w-max">2024-05-15</time>
            </div>
            <div class="flex items-center gap-1">
              <iconify-icon width="18" icon="mingcute:refresh-3-fill" ></iconify-icon>
              Edited: <time class="w-max">2024-06-16</time>
            </div>
          </div>
          <div class="flex flex-wrap items-center gap-x-3 gap-y-3">
            <!-- Author -->
            
              <span class="flex items-center gap-1 group">
                <iconify-icon width="18" icon="mingcute:user-edit-fill" ></iconify-icon>
                <p>Tianxiao Ye</p>
              </span>
            

            <!-- Word count -->
            <span class="flex items-center gap-1">
              <iconify-icon width="18" icon="mingcute:book-2-fill" ></iconify-icon>
              <span>2.4k words, 13 min</span>
            </span>
            <!-- Categories -->
            
              <!-- <span class="text-gray-400">·</span> -->
              <span class="flex flex-row items-center gap-1 group hover:underline">
                <iconify-icon class="transition-all group-hover:scale-125 mr-0"
                  width="18"
                  icon="mingcute:classify-2-fill">
                </iconify-icon>
                <a class="article-category-link" href="/categories/project/">Project</a>
              </span>
            
          </div>
        </section>
      </div>
      <!-- tags -->
      <div>
        
<div class="flex flex-wrap gap-1">
  
    
      <a href="/tags/jackal/" 
        class="
          tag
          text-sm
          rounded-full
          px-[5px]
          border-[1px]
          border-[var(--c-theme)]
          text-[var(--c-theme)]
          bg-[var(--c-0)]
          dark:bg-[var(--c-0)]
          dark:drop-shadow-none
          hover:bg-[var(--c-theme)]
          hover:text-[var(--c-0)]
          dark:hover:text-[var(--c-theme-2)]
        ">
        JACKAL
      </a>
    
      <a href="/tags/model-predictive-control/" 
        class="
          tag
          text-sm
          rounded-full
          px-[5px]
          border-[1px]
          border-[var(--c-theme)]
          text-[var(--c-theme)]
          bg-[var(--c-0)]
          dark:bg-[var(--c-0)]
          dark:drop-shadow-none
          hover:bg-[var(--c-theme)]
          hover:text-[var(--c-0)]
          dark:hover:text-[var(--c-theme-2)]
        ">
        Model Predictive Control
      </a>
    
      <a href="/tags/casadi/" 
        class="
          tag
          text-sm
          rounded-full
          px-[5px]
          border-[1px]
          border-[var(--c-theme)]
          text-[var(--c-theme)]
          bg-[var(--c-0)]
          dark:bg-[var(--c-0)]
          dark:drop-shadow-none
          hover:bg-[var(--c-theme)]
          hover:text-[var(--c-0)]
          dark:hover:text-[var(--c-theme-2)]
        ">
        CasADi
      </a>
    
      <a href="/tags/acado/" 
        class="
          tag
          text-sm
          rounded-full
          px-[5px]
          border-[1px]
          border-[var(--c-theme)]
          text-[var(--c-theme)]
          bg-[var(--c-0)]
          dark:bg-[var(--c-0)]
          dark:drop-shadow-none
          hover:bg-[var(--c-theme)]
          hover:text-[var(--c-0)]
          dark:hover:text-[var(--c-theme-2)]
        ">
        ACADO
      </a>
    
      <a href="/tags/cppad/" 
        class="
          tag
          text-sm
          rounded-full
          px-[5px]
          border-[1px]
          border-[var(--c-theme)]
          text-[var(--c-theme)]
          bg-[var(--c-0)]
          dark:bg-[var(--c-0)]
          dark:drop-shadow-none
          hover:bg-[var(--c-theme)]
          hover:text-[var(--c-0)]
          dark:hover:text-[var(--c-theme-2)]
        ">
        CppAD
      </a>
    
      <a href="/tags/ipopt/" 
        class="
          tag
          text-sm
          rounded-full
          px-[5px]
          border-[1px]
          border-[var(--c-theme)]
          text-[var(--c-theme)]
          bg-[var(--c-0)]
          dark:bg-[var(--c-0)]
          dark:drop-shadow-none
          hover:bg-[var(--c-theme)]
          hover:text-[var(--c-0)]
          dark:hover:text-[var(--c-theme-2)]
        ">
        Ipopt
      </a>
    
      <a href="/tags/ros/" 
        class="
          tag
          text-sm
          rounded-full
          px-[5px]
          border-[1px]
          border-[var(--c-theme)]
          text-[var(--c-theme)]
          bg-[var(--c-0)]
          dark:bg-[var(--c-0)]
          dark:drop-shadow-none
          hover:bg-[var(--c-theme)]
          hover:text-[var(--c-0)]
          dark:hover:text-[var(--c-theme-2)]
        ">
        ROS
      </a>
    
  
</div>
      </div>
    </div>
  </header>
  <!-- content -->
  <article class="post-content prose m-auto dark:prose-invert">
    <h1 id="Trajectory-Tracking-Using-ACADO"><a href="#Trajectory-Tracking-Using-ACADO" class="headerlink" title="Trajectory Tracking Using ACADO"></a>Trajectory Tracking Using ACADO</h1><p>Trajectory tracking ROS package written using ACADO-Toolkit</p>
<p>code: <a target="_blank" rel="noopener" href="https://github.com/TianxiaoYe-Shawn/ACADO_NMPC_ROS">https://github.com/TianxiaoYe-Shawn/ACADO_NMPC_ROS</a></p>
<p>The following is the effect based on the JACKAL gazebo simulator:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/dqS_6zI5x8k?si=mr2mHLAL19sSEaUl" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

<p><a href="#%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E6%90%AD%E5%BB%BA%E5%9F%BA%E4%BA%8EACADO%E7%9A%84%E8%BD%A8%E8%BF%B9%E8%B7%9F%E8%B8%AAROS%E5%8A%9F%E8%83%BD%E5%8C%85"><code>中文版教程在这</code></a></p>
<h2 id="Build-ACADO-NMPC-ROS-package-from-scratch"><a href="#Build-ACADO-NMPC-ROS-package-from-scratch" class="headerlink" title="Build ACADO NMPC ROS package from scratch"></a>Build ACADO NMPC ROS package from scratch</h2><h3 id="1-Ubuntu-and-ROS-Versions"><a href="#1-Ubuntu-and-ROS-Versions" class="headerlink" title="1. Ubuntu and ROS Versions"></a>1. Ubuntu and ROS Versions</h3><p>This ROS package is built on Ubuntu 20.04 and ROS Noetic full desktop version. It is recommended to follow this version, as the JACKAL simulator is also built on it.</p>
<h3 id="2-Creating-a-ROS-Workspace"><a href="#2-Creating-a-ROS-Workspace" class="headerlink" title="2. Creating a ROS Workspace"></a>2. Creating a ROS Workspace</h3><p>Copy the following code into the terminal to create a workspace:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p ~/NMPC_ACADO_ws/src/</span><br><span class="line">cd ~/NMPC_ACADO_ws/src/</span><br><span class="line">catkin_init_workspace</span><br><span class="line">cd ~/NMPC_ACADO_ws</span><br><span class="line">catkin_make</span><br><span class="line">echo &quot;source ~/NMPC_ACADO_ws/devel/setup.bash&quot; &gt;&gt; ~/.bashrc</span><br></pre></td></tr></table></figure>

<p>You can rename <code>NMPC_ACADO_ws</code> to your preferred workspace name.</p>
<h3 id="3-Downloading-ROS-Packages"><a href="#3-Downloading-ROS-Packages" class="headerlink" title="3. Downloading ROS Packages"></a>3. Downloading ROS Packages</h3><p>Navigate to the <code>/src</code> directory in your workspace and download the package:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ~/NMPC_ACADO_ws/src</span><br><span class="line">git clone https://github.com/TianxiaoYe-Shawn/ACADO_NMPC_ROS.git</span><br></pre></td></tr></table></figure>


<p>Move the package to the <code>/src</code> directory and remove other files:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mv ACADO_NMPC_ROS/acado_mpc .</span><br><span class="line">rm -r ACADO_NMPC_ROS</span><br></pre></td></tr></table></figure>

<h3 id="4-Installing-ACADO"><a href="#4-Installing-ACADO" class="headerlink" title="4. Installing ACADO"></a>4. Installing ACADO</h3><p>Install dependencies:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install gcc g++ cmake git gnuplot doxygen graphviz</span><br></pre></td></tr></table></figure>

<p>Choose any working directory (I use <code>~/</code>) to download the ACADO source code:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd</span><br><span class="line">git clone https://github.com/acado/acado.git -b stable ACADOtoolkit</span><br></pre></td></tr></table></figure>

<p>Install:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cd ACADOtoolkit</span><br><span class="line">mkdir build</span><br><span class="line">cd build</span><br><span class="line">cmake ..</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure>

<p>Configure the environment variable:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;source ~/ACADOtoolkit/build/acado_env.sh&quot; &gt;&gt; ~/.bashrc</span><br></pre></td></tr></table></figure>

<h3 id="5-Compiling-ROS-Packages"><a href="#5-Compiling-ROS-Packages" class="headerlink" title="5. Compiling ROS Packages"></a>5. Compiling ROS Packages</h3><p>ACADO’s advantage is that it can generate efficient C code through a symbolic language. First, modify your own MPC model in the file <code>symbolic_mpc.cpp</code> inside <code>acado_mpc/acado_export_code</code> (it’s suggested not to modify it on the first run).</p>
<p>Then generate the C code package:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd ~/NMPC_ACADO_ws/src/acado_mpc/acado_export_code</span><br><span class="line">mkdir build &amp;&amp; cd build</span><br><span class="line">cmake ..</span><br><span class="line">make</span><br><span class="line">./mpc</span><br></pre></td></tr></table></figure>

<p>Move the generated code and build the static library:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mv symbolic_mpc_export/* ../../acado_mpc_export/</span><br><span class="line">cd ../../acado_mpc_export</span><br><span class="line">make</span><br></pre></td></tr></table></figure>

<p>add <code>include</code> folder in your ROS package:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ~/NMPC_ACADO_ws/src/acado_mpc/</span><br><span class="line">mkdir include</span><br></pre></td></tr></table></figure>

<p>Compile the entire ROS package:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ~/NMPC_ACADO_ws</span><br><span class="line">catkin_make</span><br></pre></td></tr></table></figure>

<p>If everything is successful, your package is now fully set up. If you do not have any testing environment, the JACKAL simulator is a good choice next.</p>
<h3 id="6-Setting-Up-JACKAL-Simulator"><a href="#6-Setting-Up-JACKAL-Simulator" class="headerlink" title="6. Setting Up JACKAL Simulator"></a>6. Setting Up JACKAL Simulator</h3><p>Install the JACKAL simulator with one command:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install ros-noetic-jackal-simulator ros-noetic-jackal-desktop ros-noetic-jackal-navigation</span><br></pre></td></tr></table></figure>

<p>Modify the simulator environment, we need a spacious area:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /opt/ros/noetic/share/jackal_gazebo/launch/</span><br><span class="line">sudo vi jackal_world.launch</span><br></pre></td></tr></table></figure>

<p>Press <code>i</code> to enter edit mode.</p>
<p>Change the line <code>&lt;arg name=&quot;world_name...&quot;</code> to <code>&lt;arg name=&quot;world_name&quot; default=&quot;$(find gazebo_ros)/launch/empty_world.launch&quot; /&gt;</code></p>
<p>Then press <code>ESC</code>, type <code>:wq</code> to save and exit.</p>
<p>The JACKAL simulator is now fully set up.</p>
<h3 id="7-Start-Running"><a href="#7-Start-Running" class="headerlink" title="7. Start Running!"></a>7. Start Running!</h3><p>(For each of the following <code>rosrun</code> and <code>roslaunch</code>, you need to open a new terminal)</p>
<p>First, open the JACKAL simulator:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">roslaunch jackal_gazebo jackal_world.launch</span><br></pre></td></tr></table></figure>

<p>You should see the JACKAL vehicle parked in Gazebo.</p>
<p>Then open the tracking test environment (including publishing trajectory, configuring rviz):</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">roslaunch acado_mpc tracking_env.launch</span><br></pre></td></tr></table></figure>

<p>You should see a green circular trajectory in rviz (you can customize your trajectory in the <code>trajectory_publisher.cpp</code> file).</p>
<p>Then open the control input monitor:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rosrun acado_mpc plot_control_input.py</span><br></pre></td></tr></table></figure>

<p>You should see the monitor displaying messages on two control input topics, which are static since no messages are published yet.</p>
<p>Configure the MPC weight parameters:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">roslaunch acado_mpc set_weight.launch</span><br></pre></td></tr></table></figure>

<p>Then directly <code>ctrl+c</code> to cancel, at this point the custom weight parameters have been passed.</p>
<p>Finally, in this terminal, open the MPC control node:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rosrun acado_mpc mpc_node</span><br></pre></td></tr></table></figure>

<p>At this point, you should see the JACKAL vehicle start moving and following the trajectory.</p>
<h2 id="从零开始搭建基于ACADO的轨迹跟踪ROS功能包"><a href="#从零开始搭建基于ACADO的轨迹跟踪ROS功能包" class="headerlink" title="从零开始搭建基于ACADO的轨迹跟踪ROS功能包"></a>从零开始搭建基于ACADO的轨迹跟踪ROS功能包</h2><h3 id="1-Ubuntu和ROS版本"><a href="#1-Ubuntu和ROS版本" class="headerlink" title="1.Ubuntu和ROS版本"></a>1.Ubuntu和ROS版本</h3><p>本ros功能包构建在Ubuntu20.04和ROS Noetic桌面完全版上。建议按照这个版本来，后续的JACKAL模拟器也是在这个版本上构建的。</p>
<h3 id="2-创建ROS工作空间"><a href="#2-创建ROS工作空间" class="headerlink" title="2.创建ROS工作空间"></a>2.创建ROS工作空间</h3><p>复制以下代码到终端以创建工作空间：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p ~/NMPC_ACADO_ws/src/</span><br><span class="line">cd ~/NMPC_ACADO_ws/src/</span><br><span class="line">catkin_init_workspace</span><br><span class="line">cd ~/NMPC_ACADO_ws</span><br><span class="line">catkin_make</span><br><span class="line">echo &quot;source ~/NMPC_ACADO_ws/devel/setup.bash&quot; &gt;&gt; ~/.bashrc</span><br></pre></td></tr></table></figure>

<p>你可以将<code>NMPC_ACADO_ws</code>修改成你定义的工作空间名。</p>
<h3 id="3-下载ROS功能包"><a href="#3-下载ROS功能包" class="headerlink" title="3.下载ROS功能包"></a>3.下载ROS功能包</h3><p>进入你工作空间下的<code>/src</code>目录，下载功能包：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ~/NMPC_ACADO_ws/src</span><br><span class="line">git clone https://github.com/TianxiaoYe-Shawn/ACADO_NMPC_ROS.git</span><br></pre></td></tr></table></figure>

<p>将功能包移动到<code>/src</code>目录下并删除其他的文件:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mv ACADO_NMPC_ROS/acado_mpc .</span><br><span class="line">rm -r ACADO_NMPC_ROS</span><br></pre></td></tr></table></figure>

<h3 id="4-安装ACADO"><a href="#4-安装ACADO" class="headerlink" title="4.安装ACADO"></a>4.安装ACADO</h3><p>安装依赖：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install gcc g++ cmake git gnuplot doxygen graphviz</span><br></pre></td></tr></table></figure>

<p>任意选择一个工作目录（我是在<code>/home/~/</code>）下载ACADO源码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd</span><br><span class="line">git clone https://github.com/acado/acado.git -b stable ACADOtoolkit</span><br></pre></td></tr></table></figure>

<p>安装：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cd ACADOtoolkit</span><br><span class="line">mkdir build</span><br><span class="line">cd build</span><br><span class="line">cmake ..</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure>

<p>配置环境变量：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;source ~/ACADOtoolkit/build/acado_env.sh&quot; &gt;&gt; ~/.bashrc</span><br></pre></td></tr></table></figure>

<h3 id="5-编译ROS功能包"><a href="#5-编译ROS功能包" class="headerlink" title="5.编译ROS功能包"></a>5.编译ROS功能包</h3><p>ACADO的优点就是能够通过符号化的语言生成高效的c代码。首先在<code>acado_mpc/acado_export_code</code>中的<code>symbolic_mpc.cpp</code>文件修改你自己的mpc模型（第一次跑建议不要动）。</p>
<p>然后生成c代码包：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd ~/NMPC_ACADO_ws/src/acado_mpc/acado_export_code</span><br><span class="line">mkdir build &amp;&amp; cd build</span><br><span class="line">cmake ..</span><br><span class="line">make</span><br><span class="line">./mpc</span><br></pre></td></tr></table></figure>

<p>移动生成的代码并搭建静态库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mv symbolic_mpc_export/* ../../acado_mpc_export/</span><br><span class="line">cd ../../acado_mpc_export</span><br><span class="line">make</span><br></pre></td></tr></table></figure>

<p>添加 <code>include</code> 文件夹（存放头文件的，目前是空的，你可以把你未来写的头文件放进去）:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ~/NMPC_ACADO_ws/src/acado_mpc/</span><br><span class="line">mkdir include</span><br></pre></td></tr></table></figure>

<p>编译整个ros功能包</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ~/NMPC_ACADO_ws</span><br><span class="line">catkin_make</span><br></pre></td></tr></table></figure>

<p>如果一切成功，至此你的功能包就已经搭建完毕了。如果你没有任何的测试环境，接下来这个JACKAL模拟器是不错的选择。</p>
<h3 id="6-搭建JACKAL模拟器"><a href="#6-搭建JACKAL模拟器" class="headerlink" title="6.搭建JACKAL模拟器"></a>6.搭建JACKAL模拟器</h3><p>一键安装JACKAL小车模拟器</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install ros-noetic-jackal-simulator ros-noetic-jackal-desktop ros-noetic-jackal-navigation</span><br></pre></td></tr></table></figure>

<p>修改模拟器的环境，我们需要一个空旷的场地</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /opt/ros/noetic/share/jackal_gazebo/launch/</span><br><span class="line">sudo vi jackal_world.launch</span><br></pre></td></tr></table></figure>

<p>按<code>i</code>进入编辑模式</p>
<p>将<code>&lt;arg name=&quot;world_name...&quot;</code>那句修改成<code>&lt;arg name=&quot;world_name&quot; default=&quot;$(find gazebo_ros)/launch/empty_world.launch&quot; /&gt;</code></p>
<p>然后按<code>ESC</code>输入<code>:wq</code>保存并退出。</p>
<p>至此JACKAL模拟器搭建完毕。</p>
<h3 id="7-开始运行！"><a href="#7-开始运行！" class="headerlink" title="7.开始运行！"></a>7.开始运行！</h3><p>（以下每一个<code>rosrun</code>和<code>roslaunch</code>都需要你重新打开一个新的终端）</p>
<p>首先打开JACKAL模拟器：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">roslaunch jackal_gazebo jackal_world.launch</span><br></pre></td></tr></table></figure>

<p>你应该能看到JACKAL小车在gazebo里停着。</p>
<p>然后打开轨迹跟踪的测试环境（包括发布轨迹，配置rviz）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">roslaunch acado_mpc tracking_env.launch</span><br></pre></td></tr></table></figure>

<p>你应该能看到rviz中有绿色圆形轨迹（你可以在<code>trajectory_publisher.cpp</code>文件中自定义你的轨迹）。</p>
<p>然后打开控制输入监视器：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rosrun acado_mpc plot_control_input.py</span><br></pre></td></tr></table></figure>

<p>你应该能看到监视器显示着两个控制输入话题上的消息，此时由于没有消息发布所以是静止的。</p>
<p>配置mpc的权重参数：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">roslaunch acado_mpc set_weight.launch</span><br></pre></td></tr></table></figure>

<p>然后直接<code>ctrl+c</code>取消，此时自定义的权重参数已经传入。</p>
<p>紧接着在这个终端里打开mpc控制节点：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rosrun acado_mpc mpc_node</span><br></pre></td></tr></table></figure>

<p>至此你应该能看到JACKAL小车开始移动并进行轨迹跟踪。</p>
<h1 id="Trajectory-Tracking-Using-CasADi"><a href="#Trajectory-Tracking-Using-CasADi" class="headerlink" title="Trajectory Tracking Using CasADi"></a>Trajectory Tracking Using CasADi</h1><p>Wrote an MPC controller using CasADi to control the car of the Jackal Gazebo simulator to track a circular trajectory.</p>
<p>code: <a target="_blank" rel="noopener" href="https://github.com/wisc-arclab/JACKAL_UGV/tree/CasADi-NMPC">https://github.com/wisc-arclab/JACKAL_UGV/tree/CasADi-NMPC</a></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/fyGHxzgEz0o?si=VZve3lWYjZkNh9NA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

<p>The MPC solution frequency is 10HZ.</p>
<p>The system only uses the kinematic model:<br>$$<br>\begin{bmatrix} \dot{x} \\ \dot{y} \\ \dot{\theta} \end{bmatrix} &#x3D;  \begin{bmatrix} v \cos(\theta) \\ v \sin(\theta) \\ w \end{bmatrix}<br>$$<br>The MPC optimal control model is here:<br>$$<br>\begin{aligned}<br>\text{minimize} \quad &amp; \sum_{k&#x3D;0}^{N-1} \left( (x_k - x_{\text{ref},k})^T Q (x_k - x_{\text{ref},k}) + u_k^T R u_k \right)  + (x_N - x_{\text{ref},N})^T Q (x_N - x_{\text{ref},N}) \\<br>\text{subject to} \quad &amp; x_{k+1} &#x3D; x_k + \Delta t \cdot f(x_k, u_k), \quad \forall k \in {0, \ldots, N-1} \\<br>&amp; x_0 &#x3D; x_{\text{initial}}, \\<br>&amp; 0 \leq v \leq u_{\text{max}}, \\<br>&amp; w_{\text{min}} \leq w \leq w_{\text{max}}.<br>\end{aligned}<br>$$<br><strong>Objective of Minimization</strong>: The goal is to make the system’s behavior (its state at various points in time) closely follow a predefined desired path or set of states, known as the reference trajectory. This involves:</p>
<ul>
<li><strong>Reducing State Errors</strong>: The system tries to keep its states (like position, velocity) as close as possible to these reference states at each step of the prediction. The closer the system’s actual state is to the reference, the better the performance.</li>
<li><strong>Controlling Input Usage</strong>: At the same time, the system seeks to use its control inputs (like thrust or steering angle) efficiently. High input usage can mean higher energy consumption and wear and tear, which the system tries to minimize.</li>
</ul>
<p><strong>Adding a Final State Check</strong>: At the end of the prediction horizon, there’s an additional emphasis on making sure the system’s final state is as close as possible to the final desired state. This helps in ensuring that the system not only performs well throughout its operation but also ends in a state that’s optimal for future actions.</p>
<p><strong>Following Dynamics</strong>: The system must adhere to its natural dynamics, which describe how its states evolve over time based on the inputs applied. This ensures that the predictions and control actions are realistic and feasible given the physical nature of the system.</p>
<p><strong>Starting From Current State</strong>: The optimization begins from the current, actual state of the system. This makes the whole control process relevant and grounded in the system’s real-world situation at the start of control.</p>
<p><strong>Respecting Input Limits</strong>: The control inputs are kept within practical limits. For instance, the system cannot accelerate or rotate beyond what it’s physically capable of, ensuring safety and avoiding damage.</p>
<h1 id="Trajectory-Tracking-Using-CppAD-Ipopt"><a href="#Trajectory-Tracking-Using-CppAD-Ipopt" class="headerlink" title="Trajectory Tracking Using CppAD &amp; Ipopt"></a>Trajectory Tracking Using CppAD &amp; Ipopt</h1><p>Wrote an MPC controller using CppAD and Ipopt to solve the non-linear optimal control problem and let the car of the Jackal Gazebo simulator to track a figure-8 trajectory.</p>
<p>code: <a target="_blank" rel="noopener" href="https://github.com/wisc-arclab/JACKAL_UGV/tree/CppAD/Ipopt-NMPC">https://github.com/wisc-arclab/JACKAL_UGV/tree/CppAD/Ipopt-NMPC</a></p>
<p>Real world:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/j5wSrnwOiUY?si=3-WKk24-8qVEk_vu" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

<p>Simulation:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/vMgzhEvTk5M?si=E6Kbj1OCOyoDX9LN" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

<h3 id="State-Parameters-and-Control-Vectors"><a href="#State-Parameters-and-Control-Vectors" class="headerlink" title="State Parameters and Control Vectors"></a>State Parameters and Control Vectors</h3><p><strong>State Parameter Vector</strong><br>$$<br>\mathbf{x}_t &#x3D; \begin{bmatrix}<br>x_t \\<br>y_t \\<br>\theta_t \\<br>v_t \\<br>cte_t \\<br>e\theta_t<br>\end{bmatrix}<br>$$</p>
<p>Where:</p>
<ul>
<li>$x_t$ and $y_t$ represent the vehicle’s position coordinates.</li>
<li>$\theta_t$ is the vehicle’s orientation or heading angle.</li>
<li>$v_t$ is the vehicle’s velocity.</li>
<li>$cte_t$ (Cross Track Error) measures the lateral distance between the vehicle and the reference trajectory.</li>
<li>$e\theta_t$ (Error in Theta) represents the orientation error relative to the trajectory’s tangent at the vehicle’s current position.</li>
</ul>
<p><strong>Control Vector</strong><br>$$<br>\mathbf{u}_t &#x3D; \begin{bmatrix}<br>\omega_t \\<br>a_t<br>\end{bmatrix}<br>$$</p>
<p>Where:</p>
<ul>
<li>$\omega_t$ is the angular velocity, which affects the vehicle’s heading.</li>
<li>$a_t$ is the acceleration, controlling the speed increase or decrease.</li>
</ul>
<p>These control inputs are used to predict and optimize the vehicle’s trajectory over the prediction horizon, ensuring adherence to the desired path while maintaining dynamic stability and safety.</p>
<h3 id="Total-Cost-Function"><a href="#Total-Cost-Function" class="headerlink" title="Total Cost Function"></a>Total Cost Function</h3><p>The total cost function $J$ is defined as:</p>
<p>$$<br>J &#x3D; \sum_{i&#x3D;0}^{N-1} \left( w_{cte} (cte_i - ref_{cte})^2 + w_{\theta} (e\theta_i - ref_{\theta})^2 + w_v (v_i - ref_v)^2 \right) +\\ \sum_{i&#x3D;0}^{N-2} \left( w_{angvel} angvel_i^2 + w_{accel} accel_i^2 \right) +\\ \sum_{i&#x3D;0}^{N-3} \left( w_{angvel_d} (angvel_{i+1} - angvel_i)^2 + w_{accel_d} (accel_{i+1} - accel_i)^2 \right)<br>$$<br>Where:</p>
<ul>
<li>$cte_i$, $e\theta_i$, and $v_i$ represent the cross-track error, heading error, and velocity at step $i$.</li>
<li>$ref_{cte}$, $ref_{\theta}$, and $ref_v$ are the target values for these states.</li>
<li>$w_{cte}$, $w_{\theta}$, $w_v$, $w_{angvel}$, $w_{accel}$, $w_{angvel_d}$, and $w_{accel_d}$ are weights indicating the importance of each component.</li>
<li>$angvel_i$ and $accel_i$ are the control inputs at each step for angular velocity and acceleration.</li>
</ul>
<h3 id="Constraint-Formulations"><a href="#Constraint-Formulations" class="headerlink" title="Constraint Formulations"></a>Constraint Formulations</h3><p><strong>Initial State Constraints</strong><br>$$<br>\begin{aligned}<br>    x[1] &amp;&#x3D; x_{start}, \\<br>    y[1] &amp;&#x3D; y_{start}, \\<br>    \theta[1] &amp;&#x3D; \theta_{start}, \\<br>    v[1] &amp;&#x3D; v_{start}, \\<br>    cte[1] &amp;&#x3D; cte_{start}, \\<br>    e\theta[1] &amp;&#x3D; e\theta_{start}.<br>\end{aligned}<br>$$<br><strong>Vehicle Dynamics and Control Constraints</strong><br>$$<br>\begin{aligned}<br>    x_{t+1} &amp;&#x3D; x_t + v_t \cos(\theta_t) \cdot dt, \\<br>    y_{t+1} &amp;&#x3D; y_t + v_t \sin(\theta_t) \cdot dt, \\<br>    \theta_{t+1} &amp;&#x3D; \theta_t + \omega_t \cdot dt, \\<br>    v_{t+1} &amp;&#x3D; v_t + a_t \cdot dt, \\<br>    cte_{t+1} &amp;&#x3D; cte_t + (v_t \sin(e\theta_t) \cdot dt), \\<br>    e\theta_{t+1} &amp;&#x3D; e\theta_t - (\theta_t - \text{atan}(f’(x_t))) + \omega_t \cdot dt.<br>\end{aligned}<br>$$<br>where $ f’(x_t) $ represents the derivative of the polynomial trajectory fit evaluated at $ x_t $.</p>
<p><strong>Actuator Limitations</strong></p>
<p>To ensure smooth control actions and avoid abrupt vehicle behavior, actuator limitations are imposed:</p>
<p>$$<br>\begin{aligned}<br>    |\omega_t| &amp;\leq \omega_{max}, \\<br>    |a_t| &amp;\leq a_{max}.<br>\end{aligned}<br>$$</p>
<h3 id="Actuator-Change-Constraints"><a href="#Actuator-Change-Constraints" class="headerlink" title="Actuator Change Constraints"></a>Actuator Change Constraints</h3><p>Minimizing the change in control inputs to promote smoother transitions:</p>
<p>$$<br>\begin{aligned}<br>    |\Delta \omega_t| &amp;\leq \Delta \omega_{max}, \\<br>    |\Delta a_t| &amp;\leq \Delta a_{max}.<br>\end{aligned}<br>$$</p>

  </article>

  <!-- prev and next -->
  <div class="flex justify-between mt-4 pt-4
    border-t border-[var(--c-sep)] text-sm
    gap-2 text-[var(--c-50)]
  ">
    <div>
      
    </div>
    <div>
      
        <a href="/2024/03/15/jackal_lidar/"
          class="
            flex 
            justify-center
            hover:translate-x-1 
            transition-transform
            hover:text-[var(--c-100)]
          "
        >
          Unmanned Ground Vehicle with Real-time Localization and Lidar Based Obstacle Avoidance Navigation
          <iconify-icon width="20" icon="mingcute:right-fill" data-inline="false"></iconify-icon>
        </a>
      
    </div>
  </div>

  <!-- comment -->
  <div class="article-comments mt-12">
    

  </div>
</section>
<!-- js inspect -->

<script src="/lib/clipboard.min.js"></script>


<script async src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    "HTML-CSS": {
        preferredFont: "TeX",
        availableFonts: ["STIX","TeX"],
        linebreaks: { automatic:true },
        EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50)
    },
    tex2jax: {
        inlineMath: [ ["$", "$"], ["\\(","\\)"] ],
        processEscapes: true,
        ignoreClass: "tex2jax_ignore|dno",
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
        equationNumbers: { autoNumber: "AMS" },
        noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } },
        Macros: { href: "{}" }
    },
    messageStyle: "none"
  });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });
</script>



<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<script>
  $(document).ready(() => {
    const maraidConfig = {
      theme: "default",
      logLevel: 3,
      flowchart: { curve: "linear" },
      gantt: { axisFormat: "%m/%d/%Y" },
      sequence: { actorMargin: 50 },
    };
    mermaid.initialize(maraidConfig);
  });
</script>



<script src="/lib/fancybox/fancybox.umd.min.js"></script>

<script>
  $(document).ready(() => {
    $('.post-content').each(function(i){
      $(this).find('img').each(function(){
        if ($(this).parent().hasClass('fancybox') || $(this).parent().is('a')) return;
        var alt = this.alt;
        var title = this.title;
        if (alt) $(this).after('<span class="fancybox-alt">' + alt + '</span>');
        if (title) $(this).after('<span class="fancybox-title">' + title + '</span>');
        $(this).wrap('<a class="fancybox-img" href="' + this.src + '" data-fancybox=\"gallery\" data-caption="' + alt + '"></a>')
      });
      $(this).find('.fancybox').each(function(){
        $(this).attr('rel', 'article' + i);
      });
    });

    Fancybox.bind('[data-fancybox="gallery"]', {
        // options
    })
  })
</script>

<!-- tocbot begin -->

<script src="/lib/tocbot/tocbot.min.js"></script>

<script>
  $(document).ready(() => {
      tocbot.init({
        // Where to render the table of contents.
        tocSelector: '.post-toc',
        // Where to grab the headings to build the table of contents.
        contentSelector: '.post-content',
        // Which headings to grab inside of the contentSelector element.
        headingSelector: 'h1, h2, h3',
        // For headings inside relative or absolute positioned containers within content.
        hasInnerContainers: true,
    });
  })
</script>
<!-- tocbot end -->

  </main>
  <footer class="flex flex-col mt-18 mb-12 items-center
  text-[var(--c-50)] text-sm">
  <div class="flex flex-row items-center my-12">
    
    
        
        
            
            
        
        <a class="
            hover:text-[var(--c-theme)]
            hover:bg-[var(--c-20)]
            rounded-lg
            p-2
            my-1
            flex flex-row items-center
            group" title="Github" target="_blank" rel="noopener" href="https://github.com/fuwafuwaboom">
            <iconify-icon width="28" icon="mingcute:github-fill"></iconify-icon>
        </a>
    
        
        
            
            
        
        <a class="
            hover:text-[var(--c-theme)]
            hover:bg-[var(--c-20)]
            rounded-lg
            p-2
            my-1
            flex flex-row items-center
            group" title="Youtube" target="_blank" rel="noopener" href="https://www.youtube.com/channel/UCKFkPKio9yPGpgDPKuLONGw">
            <iconify-icon width="28" icon="mingcute:youtube-fill"></iconify-icon>
        </a>
    
        
        
            
            
        
        <a class="
            hover:text-[var(--c-theme)]
            hover:bg-[var(--c-20)]
            rounded-lg
            p-2
            my-1
            flex flex-row items-center
            group" title="Instagram" target="_blank" rel="noopener" href="https://www.instagram.com/shawnisyyds/?igsh=ZHg4dXVuNDNuNnls&amp;utm_source=qr">
            <iconify-icon width="28" icon="mingcute:ins-fill"></iconify-icon>
        </a>
    

  </div>
  <!-- busuanzi -->
  <div class="mb-6">
    
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<!-- Busuanzi Analytics -->
<div class="flex flex-col items-center mb-2">
  <div class="flex flex-row items-center">
    <iconify-icon width="16" icon="ic:round-person" width="18"></iconify-icon>
    <span class="mr-1">访客 Visitors: </span>
    <span id="busuanzi_value_site_uv"></span>
  </div>
  <div class="flex flex-row items-center">
    <iconify-icon width="16" icon="carbon:view-filled" width="18"></iconify-icon>
    <span class="mx-1">浏览量 Page Views:</span>
    <span id="busuanzi_value_site_pv"></span>
  </div>
</div>
<!-- End Busuanzi Analytics -->


  </div>
  <!-- copyright -->
  <div class="flex flex-row items-center gap-2">
    <a class="hover:underline"
      target="_blank"
      href="https://creativecommons.org/licenses/by-nc-sa/4.0/"
    >
      CC BY-NC-SA 4.0
    </a>
    <span>© 2024</span>
    <a class="hover:underline"
    href="https://github.com/fuwafuwaboom" 
    target="_blank" 
    rel="noopener noreferrer">叶天霄</a>
  </div>
  <!-- powered by -->
  <div class="flex items-center gap-1">
    <span>Powered by</span>
    <a class="hover:underline" 
    href="https://hexo.io/" target="_blank" rel="noopener noreferrer">Hexo</a>
    <span>&</span>
    <a href="https://github.com/chen-yingfa/hexo-theme-fengye" 
    class="hover:underline"
    target="_blank"
      rel="noopener noreferrer"
      >
      Fengye
    </a>
  </div>

</footer>

  <div class="
    back-to-top
    fixed right-6
    z-1024
    -bottom-20
    rounded-lg
    font-bold
    py-1 px-2
    text-[var(--c-80)]
    bg-[var(--c-20)]
    cursor-pointer
    text-center
    drop-shadow-md
  ">
    <span class="flex justify-center items-center text-sm">
      <span id="scrollpercent"><span>0</span> %</span>
      <iconify-icon width="18" icon="mingcute:arrow-to-up-fill" id="go-top"></iconify-icon>
    </span>
  </div>
  
<script src="/js/main.js"></script>


  <div class="fixed top-0 bottom-0 left-0 right-0 pointer-events-none print:hidden" id="maple"></div>
</body>

</html>
